<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matter Sleepy End Devices over OpenThread &mdash; Silicon Labs Matter 2.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Creating a Gecko Bootloader for Use in Matter OTA Software Update" href="OTA_BOOTLOADER.html" />
    <link rel="prev" title="Commissioning" href="COMMISSIONING.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Silicon Labs Matter
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../OVERVIEW.html">Silicon Labs Matter User’s Guide Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NEW_FEATURES.html">Silicon Labs Matter New Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../nav_1_overview.html">Matter Overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="COMMISSIONING.html">Commissioning</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Matter Sleepy End Devices over OpenThread</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operating-modes">Operating Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thread-communication">Thread Communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#building">Building</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enabling-sleepy-functionalities">Enabling Sleepy Functionalities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#minimal-power-consumption">Minimal Power Consumption</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OTA_BOOTLOADER.html">Creating a Gecko Bootloader for Use in Matter OTA Software Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="OTA_SOFTWARE_UPDATE.html">Matter Software Update with EFR32 Example Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="SECURITY.html">Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nav_2_prereq.html">Matter Development Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_4_thread.html">Matter Over Thread</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_5_wifi.html">Matter Over Wi-Fi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_3_general.html">Developer Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_6_faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dox/index.html">Library API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Silicon Labs Matter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../nav_1_overview.html">Matter Overview</a></li>
      <li class="breadcrumb-item active">Matter Sleepy End Devices over OpenThread</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/overview/OT_SLEEPY_END_DEVICE.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="matter-sleepy-end-devices-over-openthread">
<h1>Matter Sleepy End Devices over OpenThread<a class="headerlink" href="#matter-sleepy-end-devices-over-openthread" title="Permalink to this headline"></a></h1>
<p><strong>([SIMPLICITY STUDIO] &amp; [GITHUB])</strong></p>
<p>This page explains how Matter OpenThread Sleepy End devices (SEDs) work and how to configure an SED example.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>Matter provides a Sleepy End Device operating mode to extend the battery life of a power limited devices. This operating mode leverages OpenThread functionalities to enhance the provided Matter features. Matter Sleepy functionalities currently focus on allowing an application to define the interval of time where a device is asleep.</p>
</section>
<section id="operating-modes">
<h2>Operating Modes<a class="headerlink" href="#operating-modes" title="Permalink to this headline"></a></h2>
<p>SEDs have two operating modes, Idle and Active.</p>
<ul class="simple">
<li><p><em>Active Mode</em> sets the SED into a fast-polling interval for maximum responsiveness when the Node is engaged in ongoing communication, such as an active exchange. The SLEEPY_ACTIVE_INTERVAL parameter communicates the maximum sleep interval of a node in active mode.</p></li>
<li><p><em>Idle mode</em>, or slow-polling, sets the maximum time an SED will sleep before polling. This parameter affects both the minimum power consumption and maximum latency. The SLEEPY_IDLE_INTERVAL parameter communicates the maximum sleep interval of a node in idle mode.</p></li>
</ul>
<p>A device determines if it is in Active or Idle mode based on whether it has at least one open exchange in the message layer. As long as the device has one open exchanges, it will remain in Active mode and poll its associated OpenThread router at the fast-polling interval. Once all exchanges are closed, the device will switch operating modes to Idle Mode.</p>
<p>When a device is in <em>Idle mode</em>, it will poll its associated router at its slow-polling interval to see if another device has tried to communicate with it while it was sleeping. If the OpenThread router has an outstanding message for the SED, the SED will enter its Active polling mode to process the message.</p>
</section>
<section id="thread-communication">
<h2>Thread Communication<a class="headerlink" href="#thread-communication" title="Permalink to this headline"></a></h2>
<p>To receive message that were sent while the SED was sleeping, SED relies on its associated Thread router to buffer any incoming message. The Thread router will send all buffered message to the SED when the SED polls the router at the end of its slow-polling interval.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline"></a></h2>
<p>Matter exposes two defines that can be set to configure the SLEEPY_ACTIVE_INTERVAL and SLEEPY_IDLE_INTERVAL parameters.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter Name</p></th>
<th class="head"><p>Define</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
<th class="head"><p>Maximum allowed Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SLEEPY_IDLE_INTERVAL</p></td>
<td><p>CHIP_DEVICE_CONFIG_SED_IDLE_INTERVAL</p></td>
<td><p>Maximum node sleep interval when in idle mode.</p></td>
<td><p>5000 ms</p></td>
<td><p>&lt;= 1 hour</p></td>
</tr>
<tr class="row-odd"><td><p>SLEEPY_ACTIVE_INTERVAL</p></td>
<td><p>CHIP_DEVICE_CONFIG_SED_ACTIVE_INTERVAL</p></td>
<td><p>Maximum node sleep interval of when in active mode.</p></td>
<td><p>200 ms</p></td>
<td><p>&lt;= 1 hour</p></td>
</tr>
</tbody>
</table>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h3>
<p>The default values for the these defines are located in <code class="docutils literal notranslate"><span class="pre">src/include/platform/CHIPDeviceConfig.h</span></code></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * CHIP_DEVICE_CONFIG_SED_IDLE_INTERVAL</span>
<span class="cm"> *</span>
<span class="cm"> * The default amount of time in milliseconds that the sleepy end device will use as an idle interval.</span>
<span class="cm"> * This interval is used by the device to periodically wake up and poll the data in the idle mode.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef CHIP_DEVICE_CONFIG_SED_IDLE_INTERVAL</span>
<span class="cp">#define CHIP_DEVICE_CONFIG_SED_IDLE_INTERVAL 5000_ms32</span>
<span class="cp">#endif</span>

<span class="cm">/**</span>
<span class="cm"> * CHIP_DEVICE_CONFIG_SED_ACTIVE_INTERVAL</span>
<span class="cm"> *</span>
<span class="cm"> * The default amount of time in milliseconds that the sleepy end device will use as an active interval.</span>
<span class="cm"> * This interval is used by the device to periodically wake up and poll the data in the active mode.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef CHIP_DEVICE_CONFIG_SED_ACTIVE_INTERVAL</span>
<span class="cp">#define CHIP_DEVICE_CONFIG_SED_ACTIVE_INTERVAL 200_ms32</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>To change these default values, add <code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">CHIP_DEVICE_CONFIG_SED_ACTIVE_INTERVAL</span> <span class="pre">&lt;value&gt;_ms32</span></code> to <code class="docutils literal notranslate"><span class="pre">src/platform/EFR32/CHIPDevicePlatformConfig.h</span></code>.</p>
</section>
</section>
<section id="building">
<h2>Building<a class="headerlink" href="#building" title="Permalink to this headline"></a></h2>
<section id="enabling-sleepy-functionalities">
<h3>Enabling Sleepy Functionalities<a class="headerlink" href="#enabling-sleepy-functionalities" title="Permalink to this headline"></a></h3>
<p>To build an OpenThread SED example, two conditions must be met: 1) The following macro must be defined : <code class="docutils literal notranslate"><span class="pre">CHIP_DEVICE_CONFIG_ENABLE_SED</span></code> and 2) the example must to use the MTD OpenThread libraries to be able to leverage OpenThread Sleepy functionalities.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--sed</span></code> macro can be added to the build command to enable sleepy functionalities. Here is an example to build the light-switch-app as a SED for the EFR32MG24 BRD4186C.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/examples/gn_efr32_example.sh<span class="w"> </span>./examples/light-switch-app/efr32/<span class="w"> </span>./out/light-switch-app_SED<span class="w"> </span>BRD4186C<span class="w"> </span>--sed
</pre></div>
</div>
</section>
<section id="minimal-power-consumption">
<h3>Minimal Power Consumption<a class="headerlink" href="#minimal-power-consumption" title="Permalink to this headline"></a></h3>
<p>Simply enabling Sleepy functionalities does not give the application the best power consumption. Be default several features, like the LCD, are enabled in example applications that increase the power consumption. The following set of features increase power consumption.</p>
<ul class="simple">
<li><p>Matter Shell</p></li>
<li><p>OpenThread CLI</p></li>
<li><p>LCD and Qr Code</p></li>
</ul>
<p>To achieve the most power-efficient build, add these build arguments to the build command to disable all power-consuming features.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/examples/gn_efr32_example.sh<span class="w"> </span>./examples/light-switch-app/efr32/<span class="w"> </span>./out/light-switch-app_SED<span class="w"> </span>BRD4186C<span class="w"> </span>--sed<span class="w"> </span><span class="nv">chip_build_libshell</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="nv">enable_openthread_cli</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="nv">show_qr_code</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="nv">disable_lcd</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="COMMISSIONING.html" class="btn btn-neutral float-left" title="Commissioning" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="OTA_BOOTLOADER.html" class="btn btn-neutral float-right" title="Creating a Gecko Bootloader for Use in Matter OTA Software Update" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Silicon Labs.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>